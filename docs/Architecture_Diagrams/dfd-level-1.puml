@startuml DFD Level 1
title DFD Level 1 - Breev System Breakdown
skinparam linetype ortho

' Entities
rectangle "Sensor Node" as Node
rectangle "Admin" as Admin
rectangle "Public" as Public

' Processes
usecase "1.0\nData Ingestion" as P1
usecase "2.0\nData Processing\n(AI/Analysis)" as P2
usecase "3.0\nReporting &\nVisualization" as P3

' Data Stores
database "Sensor Logs DB" as D1
database "Predictions DB" as D2

' Process 1: Ingestion
Node --> P1 : Raw Telemetry
P1 --> P1 : Validate API Key
P1 --> D1 : Store Data

' Process 2: Analysis
D1 --> P2 : Fetch History
P2 --> P2 : Calculate AQI
P2 --> P2 : Predict Trend
P2 --> D2 : Store Forecast

' Process 3: Reporting
Admin --> P3 : Request Report
Public --> P3 : Scan QR
D1 --> P3 : Get Realtime
D2 --> P3 : Get Forecast
P3 --> Admin : PDF/Dashboard
P3 --> Public : Mobile UI

@enduml
