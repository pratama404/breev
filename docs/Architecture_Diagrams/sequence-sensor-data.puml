@startuml Sequence - Sensor Data Flow
!theme plain
title Sensor Data Processing Sequence (BCE Pattern)

actor "IoT Device" as Act
boundary "MQTTListener" as Bound
control "DataIngestor" as Ctrl
entity "SensorLog" as Ent
database "MongoDB" as DB

== Data Transmission ==

Act -> Bound: Publish Telemetry (MQTT)
activate Bound
Bound -> Ctrl: Forward Message
activate Ctrl

== Data Processing ==

Ctrl -> Ctrl: Validate Payload
Ctrl -> Ent: Create Log Object
activate Ent
Ent --> Ctrl: Validated Object
deactivate Ent

Ctrl -> DB: Insert One
activate DB
DB --> Ctrl: Acknowledge
deactivate DB

Ctrl --> Bound: Processed
deactivate Ctrl
deactivate Bound

@enduml