@startuml Activity - QR Scan UX
title Activity Diagram - Public User QR Scan (Breev)

|Public User|
start
:Enters Room;
:Notices "Breev" QR Code;
:Scans QR with Mobile Camera;

|Frontend (Next.js)|
:Resolve URL /scan/[id];
:Fetch Real-time Data (/api/sensors);
:Fetch Forecast (/api/predictions);

|Backend API|
:Query MongoDB (Latest Log);
:Query MongoDB (Forecast Cache);
:Return JSON;

|Frontend (Next.js)|
:Calculate AQI Color (Green/Yellow/Red);
if (AQI > 150?) then (Unhealthy)
    :Render RED Background;
    :Show "Mask Required" Warning;
else (Good)
    :Render GREEN Background;
    :Show "Safe" Status;
endif

:Render Forecast Chart (Next 6h);
:Display Educational Info;

|Public User|
:Read Current Status;
:Decide to Stay/Enter;
stop
@enduml